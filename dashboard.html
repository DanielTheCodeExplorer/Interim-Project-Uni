<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nigeria Network Lab · Evaluation</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-1: #050d0b;
      --bg-2: #0c1725;
      --panel: #0c1525;
      --panel-edge: #12312a;
      --accent: #6a2ddc;
      --pulse: #70f0c2;
      --text: #e3f1ea;
      --muted: #9ab3a8;
      --danger: #f08ba5;
      --warn: #f0b33a;
      --border: rgba(255, 255, 255, 0.08);
      --card: rgba(12, 21, 37, 0.9);
      --card-edge: rgba(112, 240, 194, 0.08);
      --card-edge-2: rgba(106, 45, 220, 0.08);
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      min-height: 100vh;
      font-family: 'Space Grotesk', system-ui, -apple-system, sans-serif;
      color: var(--text);
      background:
        radial-gradient(circle at 20% 20%, rgba(112, 240, 194, 0.08), transparent 36%),
        radial-gradient(circle at 80% 30%, rgba(106, 45, 220, 0.12), transparent 28%),
        linear-gradient(145deg, var(--bg-1), var(--bg-2));
      padding: 24px 14px 48px;
      display: flex;
      justify-content: center;
    }
    .app {
      position: relative;
      z-index: 1;
      width: min(1100px, 100%);
      margin: 0 auto;
      display: grid;
      gap: 14px;
    }
    .topbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      margin-top: 12px;
    }
    .hero-title { margin: 0; font-size: 1.7rem; letter-spacing: 0.4px; }
    .hero-sub { margin: 4px 0 0; color: var(--muted); font-size: 0.96rem; }
    .card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 18px;
      position: relative;
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.55);
      overflow: hidden;
    }
    .card::before, .card::after {
      content: "";
      position: absolute;
      inset: 0;
      border-radius: inherit;
      border: 1px solid var(--card-edge);
      pointer-events: none;
    }
    .card::after { inset: 10px; border: 1px solid var(--card-edge-2); }
    .card.accent-impact {
      background: linear-gradient(135deg, rgba(112, 240, 194, 0.12), rgba(12, 21, 37, 0.9));
      border-color: rgba(112, 240, 194, 0.35);
    }
    .card.accent-risk {
      background: linear-gradient(135deg, rgba(240, 139, 165, 0.1), rgba(12, 21, 37, 0.9));
      border-color: rgba(240, 139, 165, 0.35);
    }
    .card.accent-tradeoff {
      background: linear-gradient(135deg, rgba(106, 45, 220, 0.12), rgba(12, 21, 37, 0.9));
      border-color: rgba(106, 45, 220, 0.35);
    }
    .score-grid,
    .kpi-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 10px; }
    .score-grid.three-items,
    .kpi-grid.three-items { grid-template-columns: repeat(2, minmax(160px, 1fr)); }
    .score-grid.three-items .score:nth-child(3),
    .kpi-grid.three-items .score:nth-child(3) { grid-column: 1 / span 2; justify-self: center; }
    .score { text-align: center; }
    .score h4 { margin: 0 0 8px; color: var(--muted); font-weight: 600; letter-spacing: 0.2px; }
    .score .value { font-size: 1.9rem; font-weight: 700; margin: 0; }
    .pill { padding: 6px 10px; border-radius: 10px; background: rgba(112, 240, 194, 0.12); color: var(--pulse); border: 1px solid rgba(112, 240, 194, 0.25); font-size: 0.86rem; }
    .pill.danger { background: rgba(240, 139, 165, 0.12); color: var(--danger); border-color: rgba(240, 139, 165, 0.25); }
    .pill.warn { background: rgba(240, 179, 58, 0.12); color: var(--warn); border-color: rgba(240, 179, 58, 0.25); }
    .kpi-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; }
    .list { list-style: none; padding: 0; margin: 0; display: grid; gap: 8px; }
    .list li {
      padding: 14px;
      border-radius: 14px;
      border: 1px solid rgba(112, 240, 194, 0.35);
      background: linear-gradient(120deg, rgba(112, 240, 194, 0.14), rgba(12, 21, 37, 0.95));
      color: var(--text);
      font-size: 0.98rem;
      display: grid;
      gap: 6px;
      border-left: 4px solid rgba(112, 240, 194, 0.7);
    }
    .two-col { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 10px; }
    table { width: 100%; border-collapse: collapse; font-size: 0.95rem; }
    th, td { padding: 10px 12px; border-bottom: 1px solid rgba(255, 255, 255, 0.05); text-align: left; vertical-align: top; }
    th { color: var(--muted); font-weight: 600; font-size: 0.9rem; letter-spacing: 0.1px; }
    tr:last-child td { border-bottom: none; }
    .tradeoff-table td:first-child { color: var(--pulse); font-weight: 600; }
    .tradeoff-table td { background: rgba(255,255,255,0.015); }
    .mini { color: var(--muted); font-size: 0.9rem; margin-top: 4px; }
    .note { color: var(--muted); font-size: 0.95rem; line-height: 1.5; }
    .tone-good { color: var(--pulse); }
    .tone-warn { color: var(--warn); }
    .tone-bad { color: var(--danger); }
    @media (max-width: 540px) { .topbar { flex-direction: column; align-items: flex-start; } }
  </style>
</head>
<body>
  <div class="app">
    <div class="topbar">
      <div>
        <h1 class="hero-title">Nigeria Network Evaluation</h1>
        <p class="hero-sub">Illustrative, map-derived proxies for a proof-of-concept</p>
      </div>
      <div class="pill" aria-hidden="true">Evaluation only · indicative</div>
    </div>

    <div class="card">
      <h3 style="margin-top:0;">Infrastructure Summary (directly from map)</h3>
      <div class="score-grid">
        <div class="score">
          <h4>Fibre nodes placed</h4>
          <p class="value"><span id="inf-fiber">--</span></p>
          <p class="mini">Counted directly from user-placed fibre markers.</p>
        </div>
        <div class="score">
          <h4>Copper nodes placed</h4>
          <p class="value"><span id="inf-copper">--</span></p>
          <p class="mini">Counted directly from user-placed copper markers.</p>
        </div>
        <div class="score">
          <h4>Cellular towers placed</h4>
          <p class="value"><span id="inf-cell">--</span></p>
          <p class="mini">Counted directly from user-placed cellular markers.</p>
        </div>
        <div class="score">
          <h4>Total infrastructure assets</h4>
          <p class="value"><span id="inf-total">--</span></p>
          <p class="mini">Sum of all map assets; purely descriptive.</p>
        </div>
      </div>
    </div>

    <div class="two-col">
      <div class="card">
        <h3 style="margin-top:0;">Coverage &amp; Reach (proxy-based)</h3>
        <div class="kpi-grid">
          <div class="score">
            <h4>Population proximity coverage</h4>
            <p class="value"><span id="cov-pop">--</span>%</p>
            <p class="mini">Populated areas within X km of any node (proxy).</p>
          </div>
          <div class="score">
            <h4>Urban coverage proxy</h4>
            <p class="value"><span id="cov-urban">--</span>%</p>
            <p class="mini">Urban tiles intersecting ≥1 node.</p>
          </div>
          <div class="score">
            <h4>Rural coverage proxy</h4>
            <p class="value"><span id="cov-rural">--</span>%</p>
            <p class="mini">Rural tiles within reach of any node.</p>
          </div>
        </div>
      </div>

      <div class="card">
        <h3 style="margin-top:0;">Connectivity Quality Indicators (comparative)</h3>
        <div class="kpi-grid">
          <div class="score">
            <h4>High-quality zones</h4>
            <p class="value"><span id="qual-high">--</span></p>
            <p class="mini">Closest to fibre nodes.</p>
          </div>
          <div class="score">
            <h4>Medium-quality zones</h4>
            <p class="value"><span id="qual-med">--</span></p>
            <p class="mini">Copper-dominant areas.</p>
          </div>
          <div class="score">
            <h4>Low-quality zones</h4>
            <p class="value"><span id="qual-low">--</span></p>
            <p class="mini">Cellular-only or sparse coverage.</p>
          </div>
        </div>
      </div>
    </div>

    <div class="two-col">
      <div class="card accent-risk">
        <h3 style="margin-top:0;">Gap &amp; Risk Indicators</h3>
        <ul class="list" id="gap-list"></ul>
      </div>
      <div class="card accent-tradeoff">
        <h3 style="margin-top:0;">Cost &amp; Timeline Estimates (high-level)</h3>
        <table class="tradeoff-table">
          <thead>
            <tr><th>Metric</th><th>Value (estimated)</th><th>Basis</th></tr>
          </thead>
          <tbody id="cost-table"></tbody>
        </table>
      </div>
    </div>

    <div class="card">
      <h3 style="margin-top:0;">AI Insights Panel</h3>
      <p class="note" id="ai-summary"></p>
    </div>
  </div>
  <script>
    const dataset = {
      // All values are dummy, illustrative, and derived from in-app map logic only
      infrastructure: {
        fiber_nodes: 42,
        copper_nodes: 31,
        cell_towers: 18,
        total_assets: 91,
      },
      coverage: {
        population_proximity_pct: 68,
        urban_proxy_pct: 81,
        rural_proxy_pct: 52,
      },
      quality: {
        high_zones: 24,
        medium_zones: 39,
        low_zones: 17,
      },
      gap_risk: {
        underserved_regions: 9,
        single_point_dependencies: 6,
        fragility_note: 'Northern and North-East clusters'
      },
      cost_timeline: {
        estimated_total_cost: '₦3,000,000',
        estimated_timeline_years: 7,
        avg_cost_per_asset: '₦32,900',
      },
      ai_insights: [
        'Infrastructure density is concentrated around central Nigeria, creating strong urban connectivity but weaker edge coverage.',
        'Northern regions rely heavily on cellular infrastructure, increasing fragility and reducing redundancy.',
        'Adding fibre nodes in Kaduna and Maiduguri would significantly reduce single-point dependency.'
      ]
    };

    function renderInfrastructure() {
      const t = dataset.infrastructure;
      document.getElementById('inf-fiber').textContent = t.fiber_nodes;
      document.getElementById('inf-copper').textContent = t.copper_nodes;
      document.getElementById('inf-cell').textContent = t.cell_towers;
      document.getElementById('inf-total').textContent = t.total_assets;
    }

    function renderCoverage() {
      const c = dataset.coverage;
      document.getElementById('cov-pop').textContent = c.population_proximity_pct;
      document.getElementById('cov-urban').textContent = c.urban_proxy_pct;
      document.getElementById('cov-rural').textContent = c.rural_proxy_pct;
    }

    function renderQuality() {
      const q = dataset.quality;
      document.getElementById('qual-high').textContent = q.high_zones;
      document.getElementById('qual-med').textContent = q.medium_zones;
      document.getElementById('qual-low').textContent = q.low_zones;
    }

    function renderGapRisk() {
      const g = dataset.gap_risk;
      const gapList = document.getElementById('gap-list');
      const items = [
        { label: 'Underserved regions identified', text: `${g.underserved_regions}` },
        { label: 'Single-point dependency areas', text: `${g.single_point_dependencies}` },
        { label: 'High-fragility zones', text: g.fragility_note },
      ];
      gapList.innerHTML = items.map(item => `
        <li>
          <strong>${item.label}</strong>
          <span class="mini">${item.text}</span>
        </li>
      `).join('');
    }

    function renderCostTimeline() {
      const ct = dataset.cost_timeline;
      const rows = [
        { dim: 'Estimated total cost', obs: ct.estimated_total_cost, how: 'Rounded, high-level estimate only.' },
        { dim: 'Estimated delivery timeline', obs: `${ct.estimated_timeline_years} years`, how: 'Order-of-magnitude planning placeholder.' },
        { dim: 'Average cost per asset', obs: ct.avg_cost_per_asset, how: 'Total estimate divided by asset count; indicative only.' },
      ];
      document.getElementById('cost-table').innerHTML = rows
        .map(row => `<tr><td>${row.dim}</td><td>${row.obs}</td><td>${row.how}</td></tr>`)
        .join('');
    }

    function renderAI() {
      const aiSummary = document.getElementById('ai-summary');
      aiSummary.innerHTML = dataset.ai_insights
        .map(line => `• ${line}`)
        .join('<br>');
    }

    function renderAll() {
      renderInfrastructure();
      renderCoverage();
      renderQuality();
      renderGapRisk();
      renderCostTimeline();
      renderAI();
      // Layout tweak: if a score/kpi grid has exactly 3 items, place two on top and one centered below
      document.querySelectorAll('.score-grid, .kpi-grid').forEach(grid => {
        if (grid.children.length === 3) {
          grid.classList.add('three-items');
        } else {
          grid.classList.remove('three-items');
        }
      });
    }

    renderAll();
  </script>
</body>
</html>
